(function framework7ComponentLoader(t,o){void 0===o&&(o=!0);var s=t.$,e=t.utils,n=(t.getDevice,t.getSupport,t.Class,t.Modal),a=(t.ConstructorMethods,t.ModalMethods),l=e.extend,c=e.nextTick;class r extends n{constructor(t,o){const e=l({on:{}},t.params.toast,o);super(t,e);const n=this,a=getWindow();n.app=t,n.params=e;const{closeButton:r,closeTimeout:i}=n.params;let u,d;if(n.params.el)u=s(n.params.el);else{const t=n.render();u=s(t)}return u&&u.length>0&&u[0].f7Modal?u[0].f7Modal:0===u.length?n.destroy():(l(n,{$el:u,el:u[0],type:"toast"}),u[0].f7Modal=n,r&&(u.find(".toast-button").on("click",(()=>{n.emit("local::closeButtonClick toastCloseButtonClick",n),n.close()})),n.on("beforeDestroy",(()=>{u.find(".toast-button").off("click")}))),n.on("open",(()=>{s(".toast.modal-in").each((o=>{const s=t.toast.get(o);o!==n.el&&s&&s.close()})),i&&(d=c((()=>{n.close()}),i))})),n.on("close",(()=>{a.clearTimeout(d)})),n.params.destroyOnClose&&n.once("closed",(()=>{setTimeout((()=>{n.destroy()}),0)})),n)}render(){const t=this;if(t.params.render)return t.params.render.call(t,t);const{position:o,horizontalPosition:s,cssClass:e,icon:n,text:a,closeButton:l,closeButtonColor:c,closeButtonText:r}=t.params;return $jsx("div",{class:`toast toast-${o} ${"top"===o||"bottom"===o?`toast-horizontal-${s}`:""} ${e||""} ${n?"toast-with-icon":""}`},$jsx("div",{class:"toast-content"},n&&$jsx("div",{class:"toast-icon"},n),$jsx("div",{class:"toast-text"},a),l&&!n&&$jsx("a",{class:"toast-button button "+(c?`color-${c}`:"")},r)))}}var i={name:"toast",static:{Toast:r},create(){const t=this;t.toast=l({},a({app:t,constructor:r,defaultSelector:".toast.modal-in"}),{show:o=>(l(o,{destroyOnClose:!0}),new r(t,o).open())})},params:{toast:{icon:null,text:null,position:"bottom",horizontalPosition:"left",closeButton:!1,closeButtonColor:null,closeButtonText:"Ok",closeTimeout:null,cssClass:null,render:null,containerEl:null}}};if(o){if(t.prototype.modules&&t.prototype.modules[i.name])return;t.use(i),t.instance&&(t.instance.useModuleParams(i,t.instance.params),t.instance.useModule(i))}return i}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
