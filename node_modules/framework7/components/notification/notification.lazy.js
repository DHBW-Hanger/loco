(function framework7ComponentLoader(t,e){void 0===e&&(e=!0);var o=t.$,i=t.utils,n=(t.getDevice,t.getSupport,t.Class,t.Modal),s=(t.ConstructorMethods,t.ModalMethods),a=i.extend,c=i.now,l=i.nextTick;class r extends n{constructor(t,e){const i=a({on:{}},t.params.notification,e);super(t,i);const n=this;n.app=t,n.params=i;const{icon:s,title:r,titleRightText:u,subtitle:f,text:p,closeButton:d,closeTimeout:h,cssClass:m,closeOnClick:v}=n.params;let g,x,$,C,T,y,b;if(n.params.el)g=o(n.params.el);else{const t=n.render({icon:s,title:r,titleRightText:u,subtitle:f,text:p,closeButton:d,cssClass:m});g=o(t)}if(g&&g.length>0&&g[0].f7Modal)return g[0].f7Modal;if(0===g.length)return n.destroy();a(n,{$el:g,el:g[0],type:"notification"}),g[0].f7Modal=n,d&&g.find(".notification-close-button").on("click",(()=>{n.close()})),g.on("click",(t=>{d&&o(t.target).closest(".notification-close-button").length||(n.emit("local::click notificationClick",n),v&&n.close())})),n.on("beforeDestroy",(()=>{g.off("click")}));const M={};function j(t){x||(x=!0,$=!1,C=void 0,y=c(),M.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,M.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY)}function k(t){if(!x)return;const e="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,o="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY;if(void 0===C&&(C=!!(C||Math.abs(o-M.y)<Math.abs(e-M.x))),C)return void(x=!1);t.preventDefault(),$||(n.$el.removeClass("notification-transitioning"),n.$el.transition(0),b=n.$el[0].offsetHeight/2),$=!0,T=o-M.y;let i=T;T>0&&(i=T**.8),n.$el.transform(`translate3d(0, ${i}px, 0)`)}function w(){if(!x||!$)return x=!1,void($=!1);if(x=!1,$=!1,0===T)return;const t=c()-y;n.$el.transition(""),n.$el.addClass("notification-transitioning"),n.$el.transform(""),(T<-10&&t<300||-T>=b/1)&&n.close()}let B;function D(){B=l((()=>{x&&$?D():n.close()}),h)}return n.on("open",(()=>{n.params.swipeToClose&&(n.$el.on(t.touchEvents.start,j,{passive:!0}),t.on("touchmove:active",k),t.on("touchend:passive",w)),o(".notification.modal-in").each((e=>{const o=t.notification.get(e);e!==n.el&&o&&o.close()})),h&&D()})),n.on("close beforeDestroy",(()=>{n.params.swipeToClose&&(n.$el.off(t.touchEvents.start,j,{passive:!0}),t.off("touchmove:active",k),t.off("touchend:passive",w)),clearTimeout(B)})),n}render(){const t=this;if(t.params.render)return t.params.render.call(t,t);const{icon:e,title:o,titleRightText:i,subtitle:n,text:s,closeButton:a,cssClass:c}=t.params;return $jsx("div",{class:`notification ${c||""}`},$jsx("div",{class:"notification-header"},e&&$jsx("div",{class:"notification-icon"},e),o&&$jsx("div",{class:"notification-title"},o),i&&$jsx("div",{class:"notification-title-right-text"},i),a&&$jsx("span",{class:"notification-close-button"})),$jsx("div",{class:"notification-content"},n&&$jsx("div",{class:"notification-subtitle"},n),s&&$jsx("div",{class:"notification-text"},s)))}}var u={name:"notification",static:{Notification:r},create(){this.notification=a({},s({app:this,constructor:r,defaultSelector:".notification.modal-in"}))},params:{notification:{icon:null,title:null,titleRightText:null,subtitle:null,text:null,closeButton:!1,closeTimeout:null,closeOnClick:!1,swipeToClose:!0,cssClass:null,render:null,containerEl:null}}};if(e){if(t.prototype.modules&&t.prototype.modules[u.name])return;t.use(u),t.instance&&(t.instance.useModuleParams(u,t.instance.params),t.instance.useModule(u))}return u}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
