(function framework7ComponentLoader(o,e){void 0===e&&(e=!0);var s=o.$,a=o.utils,t=o.getDevice,l=(o.getSupport,o.Class,o.Modal),n=(o.ConstructorMethods,o.ModalMethods),r=a.extend,c=a.nextTick;class i extends l{constructor(o,e){const a=r({on:{}},o.params.actions,e);super(o,a);const l=this,n=t(),i=getWindow(),p=getDocument();let d,m,u;if(l.params=a,l.params.buttons&&(d=l.params.buttons,Array.isArray(d[0])||(d=[d])),l.groups=d,l.params.el?m=s(l.params.el).eq(0):l.params.content?m=s(l.params.content).filter((o=>1===o.nodeType)).eq(0):l.params.buttons&&(l.params.convertToPopover&&(l.popoverHtml=l.renderPopover()),l.actionsHtml=l.render()),m&&m.length>0&&m[0].f7Modal)return m[0].f7Modal;if(m&&0===m.length&&!l.actionsHtml&&!l.popoverHtml)return l.destroy();l.params.backdrop&&l.params.backdropEl?u=s(l.params.backdropEl):l.params.backdrop&&(l.params.backdropUnique?(u=s('<div class="popup-backdrop popup-backdrop-unique"></div>'),l.$containerEl.append(u)):u=l.$containerEl.children(".actions-backdrop"),0===u.length&&(u=s('<div class="actions-backdrop"></div>'),l.$containerEl.append(u)));const $=l.open,v=l.close;let b;function k(o){const e=s(this);let a,t;if(e.hasClass("list-button")||e.hasClass("item-link")?(a=e.parents("li").index(),t=e.parents(".list").index()):(a=e.index(),t=e.parents(".actions-group").index()),void 0!==d){const e=d[t][a];e.onClick&&e.onClick(l,o),l.params.onClick&&l.params.onClick(l,o),!1!==e.close&&l.close()}}function g(o){const e=o.target,a=s(e);!n.desktop&&n.cordova&&(i.Keyboard&&i.Keyboard.isVisible||i.cordova.plugins&&i.cordova.plugins.Keyboard&&i.cordova.plugins.Keyboard.isVisible)||0===a.closest(l.el).length&&(l.params.closeByBackdropClick&&l.params.backdrop&&l.backdropEl&&l.backdropEl===e||l.params.closeByOutsideClick)&&l.close()}function f(o){27===o.keyCode&&l.params.closeOnEscape&&l.close()}return l.open=function(e){let a=!1;const{targetEl:t,targetX:r,targetY:i,targetWidth:p,targetHeight:d}=l.params;return l.params.convertToPopover&&(t||void 0!==r&&void 0!==i)&&(l.params.forceToPopover||n.ios&&n.ipad||o.width>=768||n.desktop&&"aurora"===o.theme)&&(a=!0),a&&l.popoverHtml?(b=o.popover.create({containerEl:l.params.containerEl,content:l.popoverHtml,backdrop:l.params.backdrop,targetEl:t,targetX:r,targetY:i,targetWidth:p,targetHeight:d,on:{open(){l.$el||(l.$el=b.$el),l.$el.trigger(`modal:open ${l.type.toLowerCase()}:open`),l.emit(`local::open modalOpen ${l.type}Open`,l)},opened(){l.$el||(l.$el=b.$el),l.$el.trigger(`modal:opened ${l.type.toLowerCase()}:opened`),l.emit(`local::opened modalOpened ${l.type}Opened`,l)},close(){l.$el||(l.$el=b.$el),l.$el.trigger(`modal:close ${l.type.toLowerCase()}:close`),l.emit(`local::close modalClose ${l.type}Close`,l)},closed(){l.$el||(l.$el=b.$el),l.$el.trigger(`modal:closed ${l.type.toLowerCase()}:closed`),l.emit(`local::closed modalClosed ${l.type}Closed`,l)}}}),b.open(e),b.once("popoverOpened",(()=>{b.$el.find(".list-button, .item-link").each((o=>{s(o).on("click",k)}))})),b.once("popoverClosed",(()=>{b.$el.find(".list-button, .item-link").each((o=>{s(o).off("click",k)})),c((()=>{b.destroy(),b=void 0}))}))):(l.$el=l.actionsHtml?s(l.actionsHtml):l.$el,l.$el[0].f7Modal=l,l.groups&&(l.$el.find(".actions-button").each((o=>{s(o).on("click",k)})),l.once("actionsClosed",(()=>{l.$el.find(".actions-button").each((o=>{s(o).off("click",k)}))}))),l.el=l.$el[0],$.call(l,e)),l},l.close=function(o){return b?b.close(o):v.call(l,o),l},r(l,{app:o,$el:m,el:m?m[0]:void 0,$backdropEl:u,backdropEl:u&&u[0],type:"actions"}),l.params.closeOnEscape&&(l.on("open",(()=>{s(p).on("keydown",f)})),l.on("close",(()=>{s(p).off("keydown",f)}))),l.on("opened",(()=>{(l.params.closeByBackdropClick||l.params.closeByOutsideClick)&&o.on("click",g)})),l.on("close",(()=>{(l.params.closeByBackdropClick||l.params.closeByOutsideClick)&&o.off("click",g)})),m&&(m[0].f7Modal=l),l}render(){const o=this;if(o.params.render)return o.params.render.call(o,o);const{groups:e}=o,s=o.params.cssClass;return $jsx("div",{class:`actions-modal${o.params.grid?" actions-grid":""} ${s||""}`},e.map((o=>$jsx("div",{class:"actions-group"},o.map((o=>{const e=["actions-"+(o.label?"label":"button")],{color:s,bg:a,bold:t,disabled:l,label:n,text:r,icon:c}=o;return s&&e.push(`color-${s}`),a&&e.push(`bg-color-${a}`),t&&e.push("actions-button-bold"),l&&e.push("disabled"),n?$jsx("div",{class:e.join(" ")},r):$jsx("div",{class:e.join(" ")},c&&$jsx("div",{class:"actions-button-media"},c),$jsx("div",{class:"actions-button-text"},r))}))))))}renderPopover(){const o=this;if(o.params.renderPopover)return o.params.renderPopover.call(o,o);const{groups:e}=o,s=o.params.cssClass;return $jsx("div",{class:`popover popover-from-actions ${s||""}`},$jsx("div",{class:"popover-inner"},e.map((o=>$jsx("div",{class:"list"},$jsx("ul",null,o.map((o=>{const e=[],{color:s,bg:a,bold:t,disabled:l,label:n,text:r,icon:c}=o;return s&&e.push(`color-${s}`),a&&e.push(`bg-color-${a}`),t&&e.push("popover-from-actions-bold"),l&&e.push("disabled"),n?(e.push("popover-from-actions-label"),`<li class="${e.join(" ")}">${r}</li>`):c?(e.push("item-link item-content"),$jsx("li",null,$jsx("a",{class:e.join(" ")},$jsx("div",{class:"item-media"},c),$jsx("div",{class:"item-inner"},$jsx("div",{class:"item-title"},r))))):(e.push("list-button"),$jsx("li",null,$jsx("a",{class:e.join(" ")},r)))}))))))))}}var p={name:"actions",params:{actions:{convertToPopover:!0,forceToPopover:!1,backdrop:!0,backdropEl:void 0,backdropUnique:!1,cssClass:null,closeByBackdropClick:!0,closeOnEscape:!1,render:null,renderPopover:null,containerEl:null}},static:{Actions:i},create(){this.actions=n({app:this,constructor:i,defaultSelector:".actions-modal.modal-in"})},clicks:{".actions-open":function(o,e){void 0===e&&(e={});this.actions.open(e.actions,e.animate,o)},".actions-close":function(o,e){void 0===e&&(e={});this.actions.close(e.actions,e.animate,o)}}};if(e){if(o.prototype.modules&&o.prototype.modules[p.name])return;o.use(p),o.instance&&(o.instance.useModuleParams(p,o.instance.params),o.instance.useModule(p))}return p}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))
